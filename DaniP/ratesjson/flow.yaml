---
captures:
  DaniP/ratesjson/source-http-file:
    autoDiscover:
      addNewBindings: true
      evolveIncompatibleCollections: true
    endpoint:
      connector:
        image: "ghcr.io/estuary/source-http-file:v1"
        config: source-http-file.config.yaml
    bindings:
      - resource:
          stream: rates.json
        target: DaniP/ratesjson/rates.json
collections:
  DaniP/ratesjson/rates.json:
    writeSchema:
      x-infer-schema: true
      type: object
      properties:
        _meta:
          type: object
          properties:
            file:
              description: "The key of the source file, added automatically by Flow"
              type: string
            offset:
              description: "The offset of the record within the source file, added automatically by Flow"
              type: integer
              minimum: 0
          required:
            - file
            - offset
      required:
        - _meta
    readSchema:
      allOf:
        - $ref: "flow://write-schema"
        - $ref: "flow://inferred-schema"
    key:
      - /_meta/file
      - /_meta/offset
